<div *ngIf="link.content" class="card mb-4">
  <div class="card-header cursor-pointer bg-primary text-white" style="font-weight: 500" (click)="isContentCollapsed = !isContentCollapsed">
    <a data-toggle="collapse" aria-expanded="true" aria-controls="linkReaderContent">
      <i *ngIf="isContentCollapsed" class="fa fa-chevron-down"></i>
      <i *ngIf="!isContentCollapsed" class="fa fa-chevron-up"></i>
      <i class="ml-3 fa fa-circle small"></i> Read
    </a>
  </div>
  <div id="linkReaderContent" class="card-body" [ngbCollapse]="isContentCollapsed">
    <app-markdown-view [markdown]="link.content"></app-markdown-view>
  </div>
</div>

<div *ngIf="link.props?.attributes?.embedUrl" class="card mb-4">
  <div class="card-header cursor-pointer bg-secondary text-white" style="font-weight: 500" (click)="isEmbedFrameCollapsed = !isEmbedFrameCollapsed">
    <a data-toggle="collapse" aria-expanded="true" aria-controls="linkEmbedFrame">
      <i *ngIf="isEmbedFrameCollapsed" class="fa fa-chevron-down"></i>
      <i *ngIf="!isEmbedFrameCollapsed" class="fa fa-chevron-up"></i>
      <i class="ml-3 fa fa-circle small"></i> Watch
    </a>
  </div>
  <div id="linkEmbedFrame" class="card-body" [ngbCollapse]="isEmbedFrameCollapsed">
    <div class="mt-3">
      <div class="embed-iframe embed-responsive embed-responsive-16by9">
        <iframe class="embed-responsive-item" [src]="link.props.attributes.embedUrl | safeUrl"
                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
  </div>
</div>
